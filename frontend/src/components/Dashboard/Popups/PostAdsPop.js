import React, { useState, useEffect } from "react";
import {
  get_job_categories,
  get_job_edulvl,
  get_job_type,
} from "@/api/postAds";
import JobPop from "./JobPop";
import { useRouter } from "next/navigation";
import StuffForSale from "./StuffForSale";
import BusinessListingCategories from "./BusinessListingCategories";
import { get_categories } from "@/api/Categories";
import PropertiesCategory from "./PropertiesCategory";

const PostAdsPop = ({ setPostAdd }) => {
  const [categories, setCategories] = useState([]);

  useEffect(() => {
    const fetchCategories = async () => {
      const data = await get_categories();
      if (data) setCategories(data?.result);
    };

    fetchCategories();
  }, []);
  const router = useRouter();
  const [selectedItem, setSelectedItem] = useState(null);
  const [jobData, setJobData] = useState({
    categories: [],
    type: [],
    educationLevels: [],
  });

  const [loading, setLoading] = useState(false);

  const getJobs = async () => {
    setLoading(true);
    try {
      const resCategories = await get_job_categories();
      const resTypes = await get_job_type();
      const resEduLvl = await get_job_edulvl();
      setJobData({
        categories: resCategories?.data?.categories || [],
        type: resTypes?.data?.types || [],
        educationLevels: resEduLvl?.data?.education_level || [],
      });
    } catch (error) {
      console.error("Error fetching job data:", error);
    } finally {
      setLoading(false);
    }
  };

  const handleJobForm = (formData) => {
    router.push({
      pathname: "/dashboard/jobs-listing",
      query: formData, // ?title=...&location=...
    });
  };

  const handleItemClick = (item) => {
    setSelectedItem(item);
    // Handle different item types
    switch (item?.type) {
      case "job":
        getJobs();
        break;
      case "business":
        // Add business-specific API call here
        break;
      case "sale":
        // Add sale-specific API call here
        break;
      case "service":
        // Add service-specific API call here
        break;
      case "property":
        // Add property-specific API call here
        break;
      default:
        break;
    }
  };

  const handleBackToMain = () => {
    setSelectedItem(null);
    setJobData({ categories: [], types: [], educationLevels: [] });
  };

  const postAdsItems = [
    {
      type: "business",
      icon: (
        <svg
          width="40"
          height="40"
          viewBox="0 0 50 50"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M2.92969 13.1836V36.6211C2.92969 37.4301 3.58555 38.0859 4.39453 38.0859H13.1836L19.043 36.1328L24.9023 38.0859H33.6914C34.5004 38.0859 35.1562 37.4301 35.1562 36.6211V13.1836H2.92969Z"
            fill="#FFF375"
          />
          <path
            d="M19.043 36.1328L24.9023 38.0859H33.6914C34.5004 38.0859 35.1562 37.4301 35.1562 36.6211V13.1836H19.043V36.1328Z"
            fill="#FFC178"
          />
          <path
            d="M23.4375 24.4141H14.6484C13.8395 24.4141 13.1836 25.0699 13.1836 25.8789V38.0859H16.1133L19.043 36.1328L21.9727 38.0859H24.9023V25.8789C24.9023 25.0699 24.2465 24.4141 23.4375 24.4141Z"
            fill="#6B66D0"
          />
          <path
            d="M23.4375 24.4141H19.043V36.1328L21.9727 38.0859H24.9023V25.8789C24.9023 25.0699 24.2465 24.4141 23.4375 24.4141Z"
            fill="#453D81"
          />
          <path
            d="M16.1133 27.3438H21.9727V38.0859H16.1133V27.3438Z"
            fill="#B5BAF3"
          />
          <path
            d="M19.043 27.3438H21.9727V38.0859H19.043V27.3438Z"
            fill="#7984EB"
          />
          <path
            d="M19.043 7.32422L0 10.2539V14.2822C0 16.9115 2.13145 19.043 4.76074 19.043C7.39004 19.043 9.52148 16.9115 9.52148 14.2822C9.52148 16.9115 11.6529 19.043 14.2822 19.043C16.9115 19.043 19.043 16.9115 19.043 14.2822C19.043 16.9115 21.1744 19.043 23.8037 19.043C26.433 19.043 28.5645 16.9115 28.5645 14.2822C28.5645 16.9115 30.6959 19.043 33.3252 19.043C35.9545 19.043 38.0859 16.9115 38.0859 14.2822V10.2539L19.043 7.32422Z"
            fill="#FF936B"
          />
          <path
            d="M23.8037 19.043C26.433 19.043 28.5645 16.9115 28.5645 14.2822C28.5645 16.9115 30.6959 19.043 33.3252 19.043C35.9545 19.043 38.0859 16.9115 38.0859 14.2822V10.2539L19.043 7.32422V14.2822C19.043 16.9115 21.1744 19.043 23.8037 19.043Z"
            fill="#FF5C5C"
          />
          <path
            d="M37.9016 9.54258L33.0187 0.753516C32.7604 0.288379 32.2703 0 31.7383 0H6.34766C5.81563 0 5.32549 0.288379 5.06719 0.753418L0.184375 9.54248C0.0634766 9.76016 0 10.005 0 10.2539H38.0859C38.0859 10.005 38.0225 9.76016 37.9016 9.54258Z"
            fill="#FF5C5C"
          />
          <path
            d="M31.7383 0H19.043V10.2539H38.0859C38.0859 10.005 38.0225 9.76016 37.9016 9.54248L33.0188 0.753418C32.7604 0.288379 32.2703 0 31.7383 0Z"
            fill="#FF1F3D"
          />
          <path
            d="M39.7461 50C45.4092 50 50 45.4092 50 39.7461C50 34.083 45.4092 29.4922 39.7461 29.4922C34.083 29.4922 29.4922 34.083 29.4922 39.7461C29.4922 45.4092 34.083 50 39.7461 50Z"
            fill="#FF936B"
          />
          <path
            d="M50 39.7461C50 34.0921 45.4001 29.4922 39.7461 29.4922V50C45.4001 50 50 45.4001 50 39.7461Z"
            fill="#FF5C5C"
          />
          <path
            d="M42.6758 38.2812H41.2109V36.8164C41.2109 36.0074 40.5551 35.3516 39.7461 35.3516C38.9371 35.3516 38.2812 36.0074 38.2812 36.8164V38.2812H36.8164C36.0074 38.2812 35.3516 38.9371 35.3516 39.7461C35.3516 40.5551 36.0074 41.2109 36.8164 41.2109H38.2812V42.6758C38.2812 43.4848 38.9371 44.1406 39.7461 44.1406C40.5551 44.1406 41.2109 43.4848 41.2109 42.6758V41.2109H42.6758C43.4848 41.2109 44.1406 40.5551 44.1406 39.7461C44.1406 38.9371 43.4848 38.2812 42.6758 38.2812Z"
            fill="#F9F9F9"
          />
          <path
            d="M41.2109 42.6758V41.2109H42.6758C43.4848 41.2109 44.1406 40.5551 44.1406 39.7461C44.1406 38.9371 43.4848 38.2812 42.6758 38.2812H41.2109V36.8164C41.2109 36.0074 40.5551 35.3516 39.7461 35.3516V44.1406C40.5551 44.1406 41.2109 43.4848 41.2109 42.6758Z"
            fill="#E2E2EA"
          />
        </svg>
      ),
      text: "Add Your Business",
    },
    {
      type: "job",
      icon: (
        <svg
          width="40"
          height="40"
          viewBox="0 0 50 47"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M19.274 38.5473H3.2221C1.4353 38.5473 0 37.112 0 35.3545V3.19275C0 1.43527 1.4353 0 3.2221 0H19.274H35.3552C37.142 0 38.5773 1.43527 38.5773 3.19275V35.3545C38.5773 37.112 37.142 38.5473 35.3552 38.5473H19.274Z"
            fill="#EBF0F3"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M3.2221 0C1.4353 0 0 1.43527 0 3.19275V6.23904H38.5773V3.19275C38.5773 1.43527 37.142 0 35.3552 0H3.2221Z"
            fill="#3A556A"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M9.1381 3.92498H6.6483C6.20892 3.92498 5.82812 3.57349 5.82812 3.10483C5.82812 2.66546 6.20892 2.31396 6.6483 2.31396H9.1381C9.57748 2.31396 9.95827 2.66546 9.95827 3.10483C9.95827 3.57349 9.57748 3.92498 9.1381 3.92498Z"
            fill="#FFD54F"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M14.1772 3.92498H11.6874C11.248 3.92498 10.8672 3.57349 10.8672 3.10483C10.8672 2.66546 11.248 2.31396 11.6874 2.31396H14.1772C14.6165 2.31396 14.9973 2.66546 14.9973 3.10483C14.9973 3.57349 14.6165 3.92498 14.1772 3.92498Z"
            fill="#EF5350"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M19.2162 3.92498H16.7264C16.2578 3.92498 15.9062 3.57349 15.9062 3.10483C15.9062 2.66546 16.2578 2.31396 16.7264 2.31396H19.2162C19.6556 2.31396 20.0071 2.66546 20.0071 3.10483C20.0071 3.57349 19.6556 3.92498 19.2162 3.92498Z"
            fill="#33CC66"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M38.5774 6.23906H22.9648C22.9648 4.62804 24.283 3.30994 25.894 3.30994H38.5774V6.23906Z"
            fill="#708392"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M26.0991 17.0184H23.8143C23.4335 17.0184 23.1406 16.7255 23.1406 16.374V11.7753C23.1406 11.4238 23.4335 11.1016 23.8143 11.1016H26.0991C27.7394 11.1016 29.0576 12.449 29.0576 14.06C29.0576 15.7003 27.7394 17.0184 26.0991 17.0184ZM24.488 15.7003H26.0991C27.0071 15.7003 27.7394 14.968 27.7394 14.06C27.7394 13.1812 27.0071 12.449 26.0991 12.449H24.488V15.7003Z"
            fill="#5C9CEE"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M26.9779 21.6172H23.8143C23.4335 21.6172 23.1406 21.3242 23.1406 20.9435V16.374C23.1406 15.9932 23.4335 15.7003 23.8143 15.7003H26.9779C28.6182 15.7003 29.9363 17.0184 29.9363 18.6587C29.9363 20.299 28.6182 21.6172 26.9779 21.6172ZM24.488 20.299H26.9779C27.8859 20.299 28.6182 19.5668 28.6182 18.6587C28.6182 17.7507 27.8859 17.0184 26.9779 17.0184H24.488V20.299Z"
            fill="#5C9CEE"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M17.7826 21.6171H17.4018C15.5857 21.6171 14.1211 20.1526 14.1211 18.3658V14.3822C14.1211 12.5661 15.5857 11.1016 17.4018 11.1016H17.7826C19.5694 11.1016 21.034 12.5661 21.034 14.3822V18.3658C21.034 20.1526 19.5694 21.6171 17.7826 21.6171ZM17.4018 12.449C16.318 12.449 15.4685 13.2984 15.4685 14.3822V18.3658C15.4685 19.4203 16.318 20.299 17.4018 20.299H17.7826C18.8371 20.299 19.7158 19.4203 19.7158 18.3658V14.3822C19.7158 13.2984 18.8371 12.449 17.7826 12.449H17.4018Z"
            fill="#5C9CEE"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M8.61472 21.6171C6.97438 21.6171 5.65625 20.2697 5.65625 18.6587C5.65625 18.2779 5.94917 17.985 6.32996 17.985C6.71076 17.985 7.00367 18.2779 7.00367 18.6587C7.00367 19.5374 7.73597 20.2697 8.61472 20.2697C9.52277 20.2697 10.2258 19.5374 10.2258 18.6587V11.8046C10.2258 11.4238 10.548 11.1309 10.8995 11.1309C11.2803 11.1309 11.5732 11.4238 11.5732 11.8046V18.6587C11.5732 20.2697 10.2551 21.6171 8.61472 21.6171Z"
            fill="#5C9CEE"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M29.615 25.7178H6.47449C6.0937 25.7178 5.80078 25.4248 5.80078 25.0441C5.80078 24.6633 6.0937 24.3704 6.47449 24.3704H29.615C29.9665 24.3704 30.2595 24.6633 30.2595 25.0441C30.2595 25.4248 29.9665 25.7178 29.615 25.7178Z"
            fill="#D5D6DB"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M29.615 29.7892H6.47449C6.0937 29.7892 5.80078 29.4963 5.80078 29.1448C5.80078 28.764 6.0937 28.4711 6.47449 28.4711H29.615C29.9665 28.4711 30.2595 28.764 30.2595 29.1448C30.2595 29.4963 29.9665 29.7892 29.615 29.7892Z"
            fill="#D5D6DB"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M29.615 33.89H6.47449C6.0937 33.89 5.80078 33.5971 5.80078 33.2163C5.80078 32.8648 6.0937 32.5426 6.47449 32.5426H29.615C29.9665 32.5426 30.2595 32.8648 30.2595 33.2163C30.2595 33.5971 29.9665 33.89 29.615 33.89Z"
            fill="#D5D6DB"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M44.9338 46.7781C44.7581 46.7781 44.5823 46.7196 44.4652 46.5731L37.8159 39.9533L36.0877 41.6815C35.912 41.8572 35.6776 41.9158 35.4433 41.8572C35.209 41.7693 35.0332 41.5936 34.9746 41.3593L32.2798 29.8478C32.2212 29.6427 32.2798 29.4084 32.4555 29.2327C32.602 29.0862 32.8363 28.9983 33.0707 29.0569L44.5823 31.7517C44.8167 31.8103 44.9924 31.986 45.051 32.2204C45.1096 32.4547 45.051 32.7183 44.8753 32.8941L43.147 34.6223L49.7963 41.2421C49.9135 41.3593 50.0013 41.535 50.0013 41.7107C50.0013 41.8865 49.9135 42.0622 49.7963 42.1794L45.4025 46.5731C45.2561 46.7196 45.0803 46.7781 44.9338 46.7781Z"
            fill="#EF5350"
          />
        </svg>
      ),
      text: "Post a Job",
    },
    {
      type: "sale",
      icon: (
        <svg
          width="40"
          height="40"
          viewBox="0 0 50 47"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M19.274 38.5473H3.2221C1.4353 38.5473 0 37.112 0 35.3545V3.19275C0 1.43527 1.4353 0 3.2221 0H19.274H35.3552C37.142 0 38.5773 1.43527 38.5773 3.19275V35.3545C38.5773 37.112 37.142 38.5473 35.3552 38.5473H19.274Z"
            fill="#EBF0F3"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M3.2221 0C1.4353 0 0 1.43527 0 3.19275V6.23904H38.5773V3.19275C38.5773 1.43527 37.142 0 35.3552 0H3.2221Z"
            fill="#3A556A"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M9.1381 3.92498H6.6483C6.20892 3.92498 5.82812 3.57349 5.82812 3.10483C5.82812 2.66546 6.20892 2.31396 6.6483 2.31396H9.1381C9.57748 2.31396 9.95827 2.66546 9.95827 3.10483C9.95827 3.57349 9.57748 3.92498 9.1381 3.92498Z"
            fill="#FFD54F"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M14.1772 3.92498H11.6874C11.248 3.92498 10.8672 3.57349 10.8672 3.10483C10.8672 2.66546 11.248 2.31396 11.6874 2.31396H14.1772C14.6165 2.31396 14.9973 2.66546 14.9973 3.10483C14.9973 3.57349 14.6165 3.92498 14.1772 3.92498Z"
            fill="#EF5350"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M19.2162 3.92498H16.7264C16.2578 3.92498 15.9062 3.57349 15.9062 3.10483C15.9062 2.66546 16.2578 2.31396 16.7264 2.31396H19.2162C19.6556 2.31396 20.0071 2.66546 20.0071 3.10483C20.0071 3.57349 19.6556 3.92498 19.2162 3.92498Z"
            fill="#33CC66"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M38.5774 6.23906H22.9648C22.9648 4.62804 24.283 3.30994 25.894 3.30994H38.5774V6.23906Z"
            fill="#708392"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M26.0991 17.0184H23.8143C23.4335 17.0184 23.1406 16.7255 23.1406 16.374V11.7753C23.1406 11.4238 23.4335 11.1016 23.8143 11.1016H26.0991C27.7394 11.1016 29.0576 12.449 29.0576 14.06C29.0576 15.7003 27.7394 17.0184 26.0991 17.0184ZM24.488 15.7003H26.0991C27.0071 15.7003 27.7394 14.968 27.7394 14.06C27.7394 13.1812 27.0071 12.449 26.0991 12.449H24.488V15.7003Z"
            fill="#5C9CEE"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M26.9779 21.6172H23.8143C23.4335 21.6172 23.1406 21.3242 23.1406 20.9435V16.374C23.1406 15.9932 23.4335 15.7003 23.8143 15.7003H26.9779C28.6182 15.7003 29.9363 17.0184 29.9363 18.6587C29.9363 20.299 28.6182 21.6172 26.9779 21.6172ZM24.488 20.299H26.9779C27.8859 20.299 28.6182 19.5668 28.6182 18.6587C28.6182 17.7507 27.8859 17.0184 26.9779 17.0184H24.488V20.299Z"
            fill="#5C9CEE"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M17.7826 21.6171H17.4018C15.5857 21.6171 14.1211 20.1526 14.1211 18.3658V14.3822C14.1211 12.5661 15.5857 11.1016 17.4018 11.1016H17.7826C19.5694 11.1016 21.034 12.5661 21.034 14.3822V18.3658C21.034 20.1526 19.5694 21.6171 17.7826 21.6171ZM17.4018 12.449C16.318 12.449 15.4685 13.2984 15.4685 14.3822V18.3658C15.4685 19.4203 16.318 20.299 17.4018 20.299H17.7826C18.8371 20.299 19.7158 19.4203 19.7158 18.3658V14.3822C19.7158 13.2984 18.8371 12.449 17.7826 12.449H17.4018Z"
            fill="#5C9CEE"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M8.61472 21.6171C6.97438 21.6171 5.65625 20.2697 5.65625 18.6587C5.65625 18.2779 5.94917 17.985 6.32996 17.985C6.71076 17.985 7.00367 18.2779 7.00367 18.6587C7.00367 19.5374 7.73597 20.2697 8.61472 20.2697C9.52277 20.2697 10.2258 19.5374 10.2258 18.6587V11.8046C10.2258 11.4238 10.548 11.1309 10.8995 11.1309C11.2803 11.1309 11.5732 11.4238 11.5732 11.8046V18.6587C11.5732 20.2697 10.2551 21.6171 8.61472 21.6171Z"
            fill="#5C9CEE"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M29.615 25.7178H6.47449C6.0937 25.7178 5.80078 25.4248 5.80078 25.0441C5.80078 24.6633 6.0937 24.3704 6.47449 24.3704H29.615C29.9665 24.3704 30.2595 24.6633 30.2595 25.0441C30.2595 25.4248 29.9665 25.7178 29.615 25.7178Z"
            fill="#D5D6DB"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M29.615 29.7892H6.47449C6.0937 29.7892 5.80078 29.4963 5.80078 29.1448C5.80078 28.764 6.0937 28.4711 6.47449 28.4711H29.615C29.9665 28.4711 30.2595 28.764 30.2595 29.1448C30.2595 29.4963 29.9665 29.7892 29.615 29.7892Z"
            fill="#D5D6DB"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M29.615 33.89H6.47449C6.0937 33.89 5.80078 33.5971 5.80078 33.2163C5.80078 32.8648 6.0937 32.5426 6.47449 32.5426H29.615C29.9665 32.5426 30.2595 32.8648 30.2595 33.2163C30.2595 33.5971 29.9665 33.89 29.615 33.89Z"
            fill="#D5D6DB"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M44.9338 46.7781C44.7581 46.7781 44.5823 46.7196 44.4652 46.5731L37.8159 39.9533L36.0877 41.6815C35.912 41.8572 35.6776 41.9158 35.4433 41.8572C35.209 41.7693 35.0332 41.5936 34.9746 41.3593L32.2798 29.8478C32.2212 29.6427 32.2798 29.4084 32.4555 29.2327C32.602 29.0862 32.8363 28.9983 33.0707 29.0569L44.5823 31.7517C44.8167 31.8103 44.9924 31.986 45.051 32.2204C45.1096 32.4547 45.051 32.7183 44.8753 32.8941L43.147 34.6223L49.7963 41.2421C49.9135 41.3593 50.0013 41.535 50.0013 41.7107C50.0013 41.8865 49.9135 42.0622 49.7963 42.1794L45.4025 46.5731C45.2561 46.7196 45.0803 46.7781 44.9338 46.7781Z"
            fill="#EF5350"
          />
        </svg>
      ),
      text: "Stuff for Sale",
    },
    {
      type: "service ",
      icon: (
        <svg
          width="40"
          height="40"
          viewBox="0 0 50 52"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M25.8167 51.6017H9.62415C8.90355 51.6017 8.28302 51.0931 8.14172 50.3865L3.93169 29.3359C3.8429 28.8917 3.9579 28.4311 4.24503 28.0809C4.53216 27.7306 4.9611 27.5276 5.41412 27.5276H30.0268C30.4797 27.5276 30.9087 27.7307 31.1959 28.0809C31.4831 28.4311 31.598 28.8917 31.5092 29.3359L27.2992 50.3865C27.1578 51.0931 26.5373 51.6017 25.8167 51.6017Z"
            fill="#EE1C66"
          />
          <path
            d="M27.3013 50.3865L31.5114 29.3359C31.6001 28.8917 31.4851 28.4311 31.1981 28.0809C30.9109 27.7306 30.4819 27.5276 30.0289 27.5276H17.7227V51.6017H25.8189C26.5396 51.6017 27.16 51.0931 27.3013 50.3865Z"
            fill="#A8003F"
          />
          <path
            d="M14.938 14.6484C14.1715 14.3925 12.8212 13.8225 11.5353 12.5366C10.2494 11.2507 9.67945 9.90048 9.42346 9.13381C9.23912 8.57385 8.70296 8.09674 7.9877 8.09644C7.27244 8.09674 6.73627 8.57385 6.55193 9.13381C6.29594 9.90038 5.72601 11.2507 4.44012 12.5366C3.15422 13.8225 1.80382 14.3925 1.03736 14.6484C0.477411 14.8328 0.00030235 15.369 0 16.0842C0.00030235 16.7995 0.477411 17.3357 1.03736 17.52C1.80392 17.776 3.15422 18.3459 4.44012 19.6319C5.72601 20.9178 6.29594 22.268 6.55193 23.0346C6.73627 23.5946 7.27244 24.0717 7.9877 24.072C8.70296 24.0717 9.23912 23.5946 9.42346 23.0346C9.67945 22.2681 10.2494 20.9178 11.5353 19.6319C12.8212 18.3459 14.1716 17.776 14.938 17.52C15.498 17.3357 15.9751 16.7995 15.9754 16.0842C15.9751 15.369 15.498 14.8328 14.938 14.6484Z"
            fill="#FFFAF5"
          />
          <path
            d="M42.0118 33.7898C41.1769 33.7898 40.5 33.1129 40.5 32.278V1.51177C40.5 0.67687 41.1769 0 42.0118 0C42.8466 0 43.5235 0.67687 43.5235 1.51177V32.278C43.5235 33.1129 42.8467 33.7898 42.0118 33.7898Z"
            fill="#004647"
          />
          <path
            d="M32.2934 14.5735H30.5667V12.8467C30.5667 12.0118 29.8898 11.335 29.0549 11.335C28.22 11.335 27.5432 12.0118 27.5432 12.8467V14.5735H25.8164C24.9815 14.5735 24.3047 15.2503 24.3047 16.0852C24.3047 16.9201 24.9815 17.597 25.8164 17.597H27.5433V19.3238C27.5433 20.1587 28.2201 20.8355 29.055 20.8355C29.8899 20.8355 30.5668 20.1587 30.5668 19.3238V17.597H32.2935C33.1284 17.597 33.8052 16.9201 33.8052 16.0852C33.8052 15.2503 33.1283 14.5735 32.2934 14.5735Z"
            fill="#E0D2DE"
          />
          <path
            d="M25.7115 4.75029C25.7115 3.91539 25.0346 3.23852 24.1997 3.23852H22.4729V1.51177C22.4729 0.67687 21.7961 0 20.9612 0C20.1263 0 19.4494 0.67687 19.4494 1.51177V3.23852H17.7227C16.8878 3.23852 16.2109 3.91539 16.2109 4.75029C16.2109 5.58519 16.8878 6.26206 17.7227 6.26206H19.4494V7.9888C19.4494 8.8237 20.1263 9.50057 20.9612 9.50057C21.7961 9.50057 22.4729 8.8237 22.4729 7.9888V6.26206H24.1997C25.0346 6.26206 25.7115 5.58519 25.7115 4.75029Z"
            fill="#F0E6EA"
          />
          <path
            d="M14.9386 14.6484C14.1721 14.3925 12.8218 13.8225 11.5359 12.5366C10.25 11.2507 9.68003 9.90048 9.42404 9.13381C9.23971 8.57385 8.70354 8.09674 7.98828 8.09644V24.072C8.70354 24.0717 9.23971 23.5946 9.42404 23.0346C9.68003 22.2681 10.25 20.9178 11.5359 19.6319C12.8218 18.3459 14.1722 17.776 14.9386 17.52C15.4986 17.3357 15.9757 16.7995 15.976 16.0842C15.9757 15.369 15.4986 14.8328 14.9386 14.6484Z"
            fill="#F0E6EA"
          />
          <path
            d="M37.1511 51.6017H25.8164C25.0108 51.6017 24.3467 50.9699 24.3066 50.1653C24.2665 49.3606 24.8644 48.6659 25.6661 48.5857C25.8786 48.5629 34.0203 47.6525 34.0203 38.755C34.0203 34.3499 37.6041 30.7661 42.0091 30.7661C46.4142 30.7661 49.9979 34.3499 49.9979 38.755C49.9977 43.0313 48.5354 51.6017 37.1511 51.6017Z"
            fill="#FFCB00"
          />
          <path
            d="M50.0005 38.755C50.0005 34.3499 46.4168 30.7661 42.0117 30.7661V50.9593C48.9791 48.8914 50.0005 42.3263 50.0005 38.755Z"
            fill="#EAA408"
          />
          <path
            d="M32.2951 30.5511H3.14847C2.31358 30.5511 1.63672 29.8743 1.63672 29.0394C1.63672 28.2045 2.31358 27.5276 3.14847 27.5276H32.2951C33.1299 27.5276 33.8068 28.2045 33.8068 29.0394C33.8068 29.8743 33.1299 30.5511 32.2951 30.5511Z"
            fill="#FC7E85"
          />
          <path
            d="M33.8077 29.0394C33.8077 28.2045 33.1308 27.5276 32.2959 27.5276H17.7227V30.5511H32.2959C33.1308 30.5511 33.8077 29.8743 33.8077 29.0394Z"
            fill="#EE1C66"
          />
          <path
            d="M16.6509 34.4476L7.32747 43.7711C6.60636 44.4922 5.53191 44.7056 4.58978 44.3156C3.64776 43.9255 3.03903 43.0144 3.03903 41.9934C3.03903 41.3531 3.28847 40.7511 3.74129 40.2984L5.72652 38.3132L5.01388 34.7498L1.60327 38.1605C0.579408 39.1843 0.015625 40.5456 0.015625 41.9947C0.015625 44.2417 1.35705 46.2492 3.43289 47.109C6.01154 48.1774 8.30769 47.0668 9.46539 45.9091L18.7889 36.5855C19.3793 35.9951 19.3793 35.038 18.7889 34.4476C18.1986 33.8572 17.2412 33.8572 16.6509 34.4476Z"
            fill="#004647"
          />
        </svg>
      ),
      text: "Home Service",
    },
    {
      type: "property",
      icon: (
        <svg
          width="40"
          height="40"
          viewBox="0 0 50 46"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M16.4034 13.1068L11.3187 13.1139L11.3047 4.54551C11.3044 4.30576 11.4984 4.11123 11.7381 4.11084L15.9548 4.10498C16.1945 4.10469 16.389 4.29873 16.3894 4.53838L16.4034 13.1068Z"
            fill="#FFB125"
          />
          <path
            d="M16.3911 4.53838C16.3908 4.29863 16.1962 4.10459 15.9564 4.10498L13.4424 4.1085C13.6654 4.12646 13.8414 4.31084 13.8417 4.53838L13.8557 13.1067L11.3203 13.1102V13.1138L16.4051 13.1066L16.3911 4.53838Z"
            fill="#FF901D"
          />
          <path
            d="M24.8119 3.94958L11.1914 16.7803L11.2187 36.286C11.2193 36.8006 11.6371 37.2171 12.1517 37.2164L37.5649 37.181C38.0795 37.1803 38.496 36.7625 38.4953 36.248L38.468 16.7422L24.8119 3.94958Z"
            fill="#E1EFFB"
          />
          <path
            d="M38.4685 16.7422L24.8123 3.94958L22.5664 6.0653L33.964 16.7421L33.9913 36.2479C33.992 36.7624 33.5754 37.1801 33.0609 37.1809H37.5653C38.0799 37.1801 38.4965 36.7624 38.4957 36.2479L38.4685 16.7422Z"
            fill="#CCDFED"
          />
          <path
            d="M43.2741 21.0404C42.8144 21.0411 42.3534 20.8734 41.9914 20.5343L24.8135 4.4428L7.68078 20.5822C6.92784 21.2916 5.74227 21.2561 5.03318 20.5032C4.3238 19.7503 4.35915 18.5649 5.11219 17.8557L23.5256 0.509705C24.2455 -0.168516 25.3687 -0.170078 26.0905 0.506092L44.5524 17.8005C45.3074 18.5076 45.346 19.693 44.6387 20.4478C44.2706 20.8407 43.7731 21.0396 43.2741 21.0404Z"
            fill="#FF4C4C"
          />
          <path
            d="M44.6377 18.1951C44.2696 18.5879 43.772 18.7869 43.273 18.7876C42.8132 18.7882 42.3523 18.6206 41.9903 18.2814L24.8125 2.18994L7.67975 18.3293C6.92681 19.0386 5.74124 19.0032 5.03215 18.2503C4.98469 18.2 4.94123 18.1474 4.90041 18.0935C4.36076 18.8089 4.39689 19.829 5.03215 20.5031C5.74124 21.256 6.92681 21.2915 7.67975 20.5821L24.8125 4.44277L41.9903 20.5342C42.3523 20.8734 42.8133 21.041 43.273 21.0404C43.772 21.0397 44.2696 20.8407 44.6377 20.4479C45.2697 19.7733 45.3043 18.7558 44.766 18.0422C44.7264 18.0947 44.6838 18.1459 44.6377 18.1951Z"
            fill="#F33939"
          />
          <path
            d="M28.3342 20.03L21.3323 20.0398C21.0038 20.0403 20.7379 20.307 20.7383 20.6355L20.7614 37.2044L28.953 37.193L28.9299 20.6241C28.9294 20.2955 28.6627 20.0295 28.3342 20.03Z"
            fill="#2D5871"
          />
          <path
            d="M28.9305 20.6241C28.93 20.2956 28.6633 20.0295 28.3348 20.03L24.3789 20.0356C24.6202 20.1111 24.7956 20.3362 24.796 20.6025L24.8191 37.1987L28.9537 37.193L28.9305 20.6241Z"
            fill="#1D4859"
          />
          <path
            d="M46.2015 28.8296L35.8812 35.7363L32.8055 35.5637L32.6851 34.3531C32.5059 32.551 31.1184 31.1048 29.3253 30.851L21.0845 29.9022C19.1835 29.6333 17.3532 28.9963 15.6961 28.0268C13.4336 26.7033 10.8596 26.0057 8.23836 26.0057H2.29688V39.5676L17.9998 45.514C18.5933 45.6816 19.2165 45.7317 19.8256 45.6355C19.8292 45.6349 19.833 45.6343 19.8366 45.6337L35.6458 43.3549C36.8637 43.1605 38.0086 42.6475 38.9644 41.868L49.1821 32.6785C50.0991 31.8642 50.2691 30.4958 49.5792 29.4819C48.8243 28.3727 47.3152 28.0812 46.2015 28.8296Z"
            fill="#FED9A8"
          />
          <path
            d="M49.7139 29.7073L39.6146 38.2084C38.6588 38.9879 37.0699 39.5009 35.852 39.6953L19.8367 40.8402C19.8331 40.8408 19.8293 40.8413 19.8257 40.8419C19.2166 40.9382 18.5933 40.888 17.9999 40.7204L2.29688 34.7741V39.5677L17.9998 45.5141C18.2965 45.5979 18.6007 45.6523 18.9069 45.6738C18.9834 45.6791 19.0601 45.6824 19.1368 45.6836C19.3668 45.6871 19.5972 45.6717 19.8256 45.6356C19.8292 45.635 19.833 45.6344 19.8366 45.6338L35.6458 43.355C36.0263 43.2943 36.3999 43.2024 36.7626 43.081C36.8351 43.0567 36.9073 43.0313 36.979 43.0046C37.3374 42.8715 37.6844 42.7091 38.0164 42.5192C38.0828 42.4812 38.1486 42.4421 38.2139 42.4019C38.4746 42.2411 38.7254 42.0629 38.9644 41.868L49.1821 32.6785C50.0329 31.9231 50.2393 30.6911 49.7139 29.7073Z"
            fill="#F4C892"
          />
          <path
            d="M34.0019 35.6331L16.6058 34.937C16.5228 34.9337 16.442 34.9092 16.3711 34.866L15.447 34.3031C14.9976 34.0294 15.2385 33.3363 15.7608 33.4003L34.0019 35.6331Z"
            fill="#F4C892"
          />
          <path
            d="M4.29811 44.1743H1.94729C0.871789 44.1743 0 43.3024 0 42.227V24.8307C0 23.7552 0.871887 22.8834 1.94729 22.8834H4.29811C5.37361 22.8834 6.2454 23.7553 6.2454 24.8307V42.227C6.2454 43.3025 5.37361 44.1743 4.29811 44.1743Z"
            fill="#2D5871"
          />
          <path
            d="M4.29926 22.8834H1.94844C1.81621 22.8834 1.68731 22.8969 1.5625 22.922C2.45304 23.1011 3.12385 23.8874 3.12385 24.8307V42.227C3.12385 43.1703 2.45304 43.9566 1.5625 44.1357C1.68731 44.1608 1.81631 44.1743 1.94844 44.1743H4.29926C5.37476 44.1743 6.24655 43.3024 6.24655 42.227V24.8307C6.24655 23.7553 5.37476 22.8834 4.29926 22.8834Z"
            fill="#1D4859"
          />
        </svg>
      ),
      text: "List your Property",
    },
    // ... other items with similar structure
  ];
  const renderJobContent = () => {
    if (loading) {
      return (
        <div className="flex items-center justify-center h-64">
          <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"></div>
        </div>
      );
    }

    // when loading is false â†’ redirect
    router.push("/dashboard/jobs-listing");
    return null;
  };
  const renderSelectedContent = () => {
    switch (selectedItem?.type) {
      case "job":
        return renderJobContent();
      case "business":
        return <BusinessListingCategories categories={categories} />;
      case "sale":
        return (
          <>
            <h5 className="px-5 font-semibold text-[#323232]">
              Choose Your Category
            </h5>
            <section className="p-5">
              <StuffForSale />
            </section>
          </>
        );
      case "service":
        return (
          <div className="text-center py-12">
            <h3 className="text-xl font-semibold text-gray-800 mb-4">
              Home Service Listing
            </h3>
            <p className="text-gray-600">
              Service form content will be displayed here
            </p>
          </div>
        );
      case "property":
        return (
          <div className=" p-3">
            <PropertiesCategory />
          </div>
        );
      default:
        return null;
    }
  };

  return (
    <div className="h-full w-screen z-50 inset-0 fixed backdrop-blur-xs flex items-center justify-center">
      <div className="h-[75%] w-5xl 2xl:w-7xl rounded-xl p-5 bg-white shadow-lg border-gray-50 border">
        {/* Header with breadcrumbs and close section */}
        <div className="flex justify-between items-center text-lg px-2">
          <div className="flex items-center space-x-2">
            <h5 className="font-bold">Post Your Ads</h5>
            {selectedItem && (
              <>
                <svg
                  className="w-4 h-4 text-gray-400"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    strokeWidth={2}
                    d="M9 5l7 7-7 7"
                  />
                </svg>
                <button
                  onClick={handleBackToMain}
                  className="text-gray-600 font-medium"
                >
                  {selectedItem.text}
                </button>
              </>
            )}
          </div>
          <svg
            onClick={() => setPostAdd(false)}
            className="cursor-pointer p-[1px] hover:shadow-xl"
            width="35"
            height="35"
            viewBox="0 0 40 40"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M27.1414 14.9429L22.0128 20L27.1414 25.0572C27.2841 25.1908 27.3979 25.3523 27.4757 25.5317C27.5535 25.711 27.5936 25.9045 27.5936 26.1C27.5936 26.2955 27.5535 26.489 27.4757 26.6684C27.3979 26.8477 27.2841 27.0092 27.1414 27.1429C27.0079 27.2753 26.8496 27.38 26.6756 27.4511C26.5015 27.5222 26.3151 27.5582 26.1271 27.5572C25.7524 27.5556 25.3932 27.4068 25.1271 27.1429L19.9986 22.0143L14.9414 27.1429C14.6753 27.4068 14.3162 27.5556 13.9414 27.5572C13.7534 27.5582 13.567 27.5222 13.393 27.4511C13.2189 27.38 13.0606 27.2753 12.9271 27.1429C12.6611 26.8752 12.5117 26.5131 12.5117 26.1357C12.5117 25.7583 12.6611 25.3962 12.9271 25.1286L17.9843 20L12.9271 14.9429C12.6931 14.6696 12.5708 14.318 12.5847 13.9585C12.5986 13.599 12.7476 13.2579 13.002 13.0035C13.2565 12.7491 13.5975 12.6 13.9571 12.5861C14.3166 12.5722 14.6681 12.6945 14.9414 12.9286L19.9986 17.9857L25.0557 12.9286C25.188 12.7916 25.3459 12.6821 25.5205 12.6062C25.6951 12.5303 25.8829 12.4895 26.0733 12.4862C26.2637 12.4828 26.4528 12.517 26.6299 12.5868C26.8071 12.6566 26.9688 12.7606 27.1057 12.8929C27.2426 13.0251 27.3522 13.1831 27.4281 13.3577C27.504 13.5323 27.5448 13.7201 27.5481 13.9105C27.5514 14.1008 27.5172 14.29 27.4474 14.4671C27.3777 14.6443 27.2737 14.8059 27.1414 14.9429ZM34.1414 34.1429C31.3443 36.9397 27.7806 38.8443 23.9011 39.6159C20.0215 40.3874 16.0003 39.9912 12.3459 38.4774C8.69146 36.9636 5.568 34.4001 3.37047 31.1112C1.17293 27.8223 0 23.9555 0 20C0 16.0445 1.17293 12.1778 3.37047 8.88882C5.568 5.59988 8.69146 3.03643 12.3459 1.52261C16.0003 0.00880105 20.0215 -0.387385 23.9011 0.384154C27.7806 1.15569 31.3443 3.06031 34.1414 5.85715C35.9988 7.71435 37.4722 9.91923 38.4774 12.3459C39.4826 14.7725 40 17.3734 40 20C40 22.6266 39.4826 25.2275 38.4774 27.6542C37.4722 30.0808 35.9988 32.2857 34.1414 34.1429ZM32.1271 7.87144C29.7273 5.47992 26.6726 3.85313 23.3489 3.19649C20.0251 2.53985 16.5813 2.88281 13.4523 4.18206C10.3233 5.48131 7.64951 7.67858 5.76846 10.4964C3.88741 13.3143 2.8835 16.6263 2.8835 20.0143C2.8835 23.4023 3.88741 26.7143 5.76846 29.5322C7.64951 32.35 10.3233 34.5473 13.4523 35.8465C16.5813 37.1458 20.0251 37.4887 23.3489 36.8321C26.6726 36.1755 29.7273 34.5487 32.1271 32.1572C33.7253 30.5645 34.9934 28.6721 35.8586 26.5883C36.7238 24.5046 37.1692 22.2705 37.1692 20.0143C37.1692 17.7581 36.7238 15.524 35.8586 13.4403C34.9934 11.3565 33.7253 9.46407 32.1271 7.87144Z"
              fill="#D1D1D1"
            />
          </svg>
        </div>

        {/* Main content section */}
        <div className="bg-[#E8F4FF] w-full h-[90%] p-4 rounded-xl mt-3">
          {!selectedItem ? (
            // Show main grid when no item is selected
            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-4">
              {postAdsItems.map((item, index) => (
                <div
                  key={index}
                  onClick={() => handleItemClick(item)}
                  className="whitespace-nowrap px-4 h-14 py-2 cursor-pointer bg-white rounded-md flex items-center justify-between hover:shadow-md transition-shadow"
                >
                  <span>{item?.icon}</span>
                  <h6 className="font-semibold">{item?.text}</h6>
                </div>
              ))}
            </div>
          ) : (
            // Show selected item content
            <div className="h-full overflow-y-auto">
              {renderSelectedContent()}
            </div>
          )}
        </div>
      </div>
    </div>
  );
};

export default PostAdsPop;
