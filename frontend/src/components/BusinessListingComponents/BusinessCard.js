import React, { useState } from "react";
import Image from "next/image";
import Link from "next/link";
import { FaUser } from "react-icons/fa";
import CustomButton from "../Buttons/CustomButton";
import { APP_URL } from "@/services/constants";
import { useRouter } from "next/router";
import { get_view } from "@/api/queries";
// import { MessageCircleMore } from "lucide-react"; // or use another icon

const BusinessCard = ({ data }) => {
  const [number, setNumber] = useState(null);
  const [isLoading, setIsLoading] = useState(false);

  const [selectedService, setSelectedService] = React.useState(null);

  React.useEffect(() => {
    if (data?.services?.length) {
      const index = Math.floor(Math.random() * data.services.length);
      setSelectedService(data.services[index]);
    }
  }, [data?.services]);

  const handleShowNumber = async (type) => {
    // If already loaded → don’t call API again
    if (number) return;

    setIsLoading(true);
    try {
      const res = await get_view("listing", data?.id, type);
      setNumber(res?.mobile_number); // Save API number
    } catch (err) {
      console.log(err);
    }
  };
  const router = useRouter();

  return (
    <div className="max-md:max-w-full max-md:border-b-1 pb-2 max-md:border-gray-200 my-1  ">
      <div className="md:w-[98%] max-md:p-[1px] ">
        <div className=" rounded-xl md:p-3 py-1.5 md:border relative border-gray-100  flex max-md:gap-2 md:gap-4 gap-3  max-[340px]:!gap-2 md:shadow-lg ">
          {/* Left Image */}
          <Link
            href={`/${data?.slug}`}
            className="md:w-[160px] md:max-h-[195px] max-md:max-w-[32%] max-md:h-[120px] border border-gray-200 rounded-sm max-[340]:w-[140px]  2xl:w-[190px] 2xl:h-[220px]  overflow-hidden "
          >
            <Image
              src={`${APP_URL}/${data?.logo}`}
              alt="course poster"
              width={500}
              height={500}
              className="max-md:h-[100%] md:h-[190px] object-contain rounded-xl"
            />
          </Link>
          {/* Center Content */}
          <div className="flex flex-col md:gap-2 max-md:gap-[2px] max-[340px]:!gap-1 2xl:gap-2  ">
            {/* Title */}
            <div className="flex justify-between items-center ">
              <Link
                href={`/${data?.slug}`}
                className=" md:whitespace-nowrap 2xl:text-lg max-md:text-sm capitalize leading-5 max-md:mt-2 max-[320px]:!text-xs max-md:font-bold font-bold "
              >
                {data?.business_name}
              </Link>
              <div className="text-xs text-gray-500  whitespace-nowrap max-md:hidden absolute right-7 ">
                <div className="flex items-center gap-1">
                  <FaUser /> {data?.views || "0 views"}
                </div>
              </div>
            </div>
            {/* Address */}
            <div className="text-xs 2xl:text-[13.5px] text-gray-700 font-medium flex items-center gap-1">
              <span className="truncate max-md:w-50 max-[340px]:!text-xs max-[340px]:!w-20  max-md:text-[11px]">
                {data?.business_address}
              </span>
            </div>

            {/* Ratings & Badges */}
            <div className="flex items-center md:gap-4 my-[3px] max-[340px]:!scale-90 w-20">
              <div className="flex  gap-1 bg-[#3D8727] text-white md:px-1.5 px-1 py-[1px] text-xs  max-md:mr-2 rounded md:text-sm">
                <span>{data?.star}</span>
                <svg
                  width="17"
                  height="16"
                  viewBox="0 0 17 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M0.0107229 6.1024C0.129607 6.1024 0.248025 6.1024 0.36691 6.1024C2.3637 6.10517 4.36049 6.10701 6.35775 6.11345C6.45985 6.11391 6.49994 6.07709 6.52885 5.98872C6.81324 5.10965 7.0995 4.23104 7.38668 3.35289C7.70371 2.38362 8.02213 1.4148 8.33962 0.445979C8.38578 0.305603 8.43053 0.165228 8.48461 0C8.51352 0.0423427 8.53217 0.0602922 8.53916 0.0819238C8.89302 1.16028 9.24687 2.23864 9.59886 3.31746C9.88792 4.20297 10.176 5.08894 10.4614 5.9763C10.4949 6.08031 10.5471 6.11437 10.659 6.11391C12.722 6.10747 14.785 6.10563 16.848 6.10333C16.896 6.10333 16.9441 6.10793 17 6.13738C16.8802 6.22437 16.7608 6.31228 16.6401 6.39834C15.247 7.39293 13.8535 8.38661 12.46 9.3812C12.2493 9.5317 12.0409 9.68496 11.8292 9.83408C11.7737 9.8732 11.7584 9.9091 11.7812 9.97768C12.2134 11.2765 12.6428 12.5762 13.0731 13.8755C13.2983 14.5557 13.5248 15.236 13.7505 15.9162C13.757 15.936 13.7566 15.9586 13.7617 16C13.7169 15.9738 13.6866 15.9595 13.6605 15.9402C11.9798 14.7302 10.2991 13.5202 8.61982 12.3074C8.53357 12.2453 8.47762 12.2333 8.38018 12.3038C7.00952 13.2965 5.63465 14.2833 4.26072 15.2724C3.95675 15.4914 3.65371 15.7123 3.35021 15.9319C3.3199 15.954 3.2868 15.9728 3.23086 15.9807C3.26722 15.8638 3.30219 15.7464 3.34042 15.6304C3.80383 14.229 4.26772 12.8271 4.7316 11.4256C4.88964 10.9488 5.04489 10.4711 5.20714 9.99563C5.23464 9.91508 5.22345 9.87412 5.15352 9.82442C4.09568 9.07191 3.04018 8.31619 1.98374 7.56139C1.3674 7.12139 0.751069 6.68185 0.134736 6.2414C0.0885805 6.20826 0.0447565 6.17236 0 6.13784C0.00372971 6.12588 0.00745939 6.11391 0.0107229 6.1024Z"
                    fill="white"
                  />
                  <mask
                    id="mask0_173_20911"
                    maskUnits="userSpaceOnUse"
                    x="0"
                    y="0"
                    width="17"
                    height="16"
                  >
                    <path
                      d="M0.0107229 6.1024C0.129607 6.1024 0.248025 6.1024 0.36691 6.1024C2.3637 6.10517 4.36049 6.10701 6.35775 6.11345C6.45985 6.11391 6.49994 6.07709 6.52885 5.98872C6.81324 5.10965 7.0995 4.23104 7.38668 3.35289C7.70371 2.38362 8.02213 1.4148 8.33962 0.445979C8.38578 0.305603 8.43053 0.165228 8.48461 0C8.51352 0.0423427 8.53217 0.0602922 8.53916 0.0819238C8.89302 1.16028 9.24687 2.23864 9.59886 3.31746C9.88792 4.20297 10.176 5.08894 10.4614 5.9763C10.4949 6.08031 10.5471 6.11437 10.659 6.11391C12.722 6.10747 14.785 6.10563 16.848 6.10333C16.896 6.10333 16.9441 6.10793 17 6.13738C16.8802 6.22437 16.7608 6.31228 16.6401 6.39834C15.247 7.39293 13.8535 8.38661 12.46 9.3812C12.2493 9.5317 12.0409 9.68496 11.8292 9.83408C11.7737 9.8732 11.7584 9.9091 11.7812 9.97768C12.2134 11.2765 12.6428 12.5762 13.0731 13.8755C13.2983 14.5557 13.5248 15.236 13.7505 15.9162C13.757 15.936 13.7566 15.9586 13.7617 16C13.7169 15.9738 13.6866 15.9595 13.6605 15.9402C11.9798 14.7302 10.2991 13.5202 8.61982 12.3074C8.53357 12.2453 8.47762 12.2333 8.38018 12.3038C7.00952 13.2965 5.63465 14.2833 4.26072 15.2724C3.95675 15.4914 3.65371 15.7123 3.35021 15.9319C3.3199 15.954 3.2868 15.9728 3.23086 15.9807C3.26722 15.8638 3.30219 15.7464 3.34042 15.6304C3.80383 14.229 4.26772 12.8271 4.7316 11.4256C4.88964 10.9488 5.04489 10.4711 5.20714 9.99563C5.23464 9.91508 5.22345 9.87412 5.15352 9.82442C4.09568 9.07191 3.04018 8.31619 1.98374 7.56139C1.3674 7.12139 0.751069 6.68185 0.134736 6.2414C0.0885805 6.20826 0.0447565 6.17236 0 6.13784C0.00372971 6.12588 0.00745939 6.11391 0.0107229 6.1024Z"
                      fill="#FFBB00"
                    />
                  </mask>
                  <g mask="url(#mask0_173_20911)">
                    <path
                      d="M18 13L4 1L1.5 0L-7 9L6.5 25L18 13Z"
                      fill="#FFBB00"
                    />
                  </g>
                </svg>
              </div>
              <p className="text-xs 2xl:text-[13px] whitespace-nowrap text-gray-500">
                {data?.rating}
              </p>
              <span className="flex items-center bg-[#EEF7FF] text-[#FF6E04] gap-1 py-1.5 px-2 text-[12px] rounded-full  max-md:ml-7 max-md:scale-80 font-bold">
                <svg
                  width="14"
                  height="14"
                  viewBox="0 0 16 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <circle cx="8" cy="8" r="8" fill="#FF6E04" />
                  <path
                    d="M13.7212 4.25825C13.3499 3.91381 12.747 3.91402 12.3752 4.25825L6.31744 9.87088L3.62503 7.37643C3.25325 7.03198 2.65061 7.03198 2.27883 7.37643C1.90706 7.72087 1.90706 8.27921 2.27883 8.62365L5.6442 11.7416C5.82998 11.9137 6.07357 12 6.31718 12C6.5608 12 6.80463 11.9139 6.9904 11.7416L13.7212 5.50546C14.0929 5.16125 14.0929 4.60267 13.7212 4.25825Z"
                    fill="white"
                  />
                </svg>
                <p>AG</p>
                <p className="text-black">Verified</p>
              </span>
            </div>

            {/* Tags bring tag randomly from anywhere */}
            <div className="max-md:flex max-md:flex-col md:flex md:gap-3 gap-1 text-[12px] 2xl:text-[13px] font-medium">
              {selectedService && (
                <span className="w-fit max-w-46 truncate p-0.5 px-1 rounded-sm border border-gray-300 text-[10px] md:text-[12px]">
                  {selectedService}
                </span>
              )}
            </div>

            {/* Description */}
            <p className="text-[11px] font-[500] truncate  w-md max-md:hidden 2xl:text-[13px] 2xl:w-lg ">
              {data?.ad_description}
            </p>

            {/* Action Buttons */}
            <div className="flex gap-3  items-center max-md:hidden mt-1">
              <CustomButton
                showToggle={true}
                defaultText="SHOW NUMBER"
                toggledText={data?.mobile_number}
                icon={
                  <svg
                    width="17"
                    height="17"
                    viewBox="0 0 17 17"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M15.5541 12.977C15.5541 13.2318 15.4975 13.4938 15.3771 13.7487C15.2568 14.0035 15.101 14.2442 14.8957 14.4708C14.5488 14.8531 14.1665 15.1292 13.7346 15.3062C13.3098 15.4832 12.8497 15.5752 12.3541 15.5752C11.632 15.5752 10.8603 15.4053 10.0461 15.0584C9.23196 14.7115 8.4178 14.2442 7.61072 13.6566C6.79656 13.0619 6.02488 12.4035 5.28859 11.6743C4.55939 10.938 3.90098 10.1664 3.31337 9.35927C2.73283 8.55219 2.26558 7.74511 1.92575 6.94511C1.58593 6.13803 1.41602 5.36634 1.41602 4.63006C1.41602 4.14864 1.50097 3.68847 1.67088 3.26369C1.8408 2.83183 2.10982 2.43536 2.48504 2.08138C2.93814 1.63536 3.43372 1.41589 3.95761 1.41589C4.15585 1.41589 4.35408 1.45837 4.53107 1.54333C4.71514 1.62828 4.87797 1.75572 5.0054 1.93979L6.64789 4.25484C6.77532 4.43183 6.86736 4.59466 6.93107 4.75041C6.99479 4.89909 7.03019 5.04776 7.03019 5.18227C7.03019 5.35219 6.98063 5.5221 6.88152 5.68493C6.78948 5.84776 6.65497 6.01767 6.48505 6.18759L5.947 6.74688C5.86912 6.82476 5.83372 6.91679 5.83372 7.03007C5.83372 7.0867 5.84081 7.13626 5.85496 7.1929C5.8762 7.24954 5.89744 7.29201 5.9116 7.33449C6.03904 7.56812 6.2585 7.87255 6.57001 8.24069C6.88859 8.60883 7.22842 8.98405 7.59656 9.35927C7.97886 9.7345 8.34701 10.0814 8.72223 10.4C9.09037 10.7115 9.3948 10.9239 9.6355 11.0513C9.6709 11.0655 9.71338 11.0867 9.76294 11.108C9.81958 11.1292 9.87621 11.1363 9.93993 11.1363C10.0603 11.1363 10.1523 11.0938 10.2302 11.0159L10.7683 10.4849C10.9452 10.3079 11.1152 10.1734 11.278 10.0885C11.4408 9.98936 11.6036 9.93981 11.7806 9.93981C11.9152 9.93981 12.0567 9.96813 12.2125 10.0318C12.3683 10.0956 12.5311 10.1876 12.7081 10.3079L15.0514 11.9717C15.2355 12.0991 15.363 12.2478 15.4408 12.4248C15.5116 12.6018 15.5541 12.7788 15.5541 12.977Z"
                      stroke="#FF6E04"
                      stroke-miterlimit="10"
                    />
                  </svg>
                }
                toggledIcon={
                  <svg
                    width="17"
                    height="17"
                    viewBox="0 0 17 17"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M15.5541 12.9771C15.5541 13.232 15.4975 13.4939 15.3771 13.7488C15.2568 14.0037 15.101 14.2444 14.8957 14.4709C14.5488 14.8532 14.1665 15.1293 13.7346 15.3063C13.3098 15.4833 12.8497 15.5753 12.3541 15.5753C11.632 15.5753 10.8603 15.4054 10.0461 15.0585C9.23196 14.7116 8.4178 14.2444 7.61072 13.6568C6.79656 13.0621 6.02488 12.4037 5.28859 11.6744C4.55939 10.9382 3.90098 10.1665 3.31337 9.3594C2.73283 8.55232 2.26558 7.74523 1.92575 6.94523C1.58593 6.13815 1.41602 5.36647 1.41602 4.63018C1.41602 4.14877 1.50097 3.68859 1.67088 3.26381C1.8408 2.83195 2.10982 2.43549 2.48504 2.0815C2.93814 1.63549 3.43372 1.41602 3.95761 1.41602C4.15585 1.41602 4.35408 1.45849 4.53107 1.54345C4.71514 1.62841 4.87797 1.75584 5.0054 1.93991L6.64789 4.25496C6.77532 4.43195 6.86736 4.59478 6.93107 4.75054C6.99479 4.89921 7.03019 5.04788 7.03019 5.1824C7.03019 5.35231 6.98063 5.52222 6.88152 5.68505C6.78948 5.84788 6.65497 6.0178 6.48505 6.18771L5.947 6.747C5.86912 6.82488 5.83372 6.91691 5.83372 7.03019C5.83372 7.08683 5.84081 7.13638 5.85496 7.19302C5.8762 7.24966 5.89744 7.29213 5.9116 7.33461C6.03904 7.56824 6.2585 7.87267 6.57001 8.24081C6.88859 8.60895 7.22842 8.98417 7.59656 9.3594C7.97886 9.73462 8.34701 10.0815 8.72223 10.4001C9.09037 10.7116 9.3948 10.924 9.6355 11.0514C9.6709 11.0656 9.71338 11.0868 9.76294 11.1081C9.81958 11.1293 9.87621 11.1364 9.93993 11.1364C10.0603 11.1364 10.1523 11.0939 10.2302 11.016L10.7683 10.4851C10.9452 10.3081 11.1152 10.1736 11.278 10.0886C11.4408 9.98949 11.6037 9.93993 11.7806 9.93993C11.9152 9.93993 12.0567 9.96825 12.2125 10.032C12.3683 10.0957 12.5311 10.1877 12.7081 10.3081L15.0514 11.9718C15.2355 12.0992 15.363 12.2479 15.4408 12.4249C15.5116 12.6019 15.5541 12.7789 15.5541 12.9771Z"
                      fill="white"
                    />
                  </svg>
                }
                bgColor="#fff"
                toggledBgColor="#FF6E04"
                textColor="#FF6E04"
                toggledTextColor="#fff"
                width="150px"
                height="30px"
                onClick={() => handleShowNumber("phone")}
              />

              {/* enquire now */}

              <CustomButton
                defaultText="ENQUIRE NOW"
                icon={
                  <svg
                    width="18"
                    height="19"
                    viewBox="0 0 18 19"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M6.375 14.946H6C3 14.946 1.5 14.196 1.5 10.446V6.69604C1.5 3.69604 3 2.19604 6 2.19604H12C15 2.19604 16.5 3.69604 16.5 6.69604V10.446C16.5 13.446 15 14.946 12 14.946H11.625C11.3925 14.946 11.1675 15.0585 11.025 15.246L9.9 16.746C9.405 17.406 8.595 17.406 8.1 16.746L6.975 15.246C6.855 15.081 6.5775 14.946 6.375 14.946Z"
                      stroke="white"
                      stroke-width="1.5"
                      stroke-miterlimit="10"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M5.25 6.69604H12.75"
                      stroke="white"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M5.25 10.446H9.75"
                      stroke="white"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                }
                borderColor="ffffff"
                bgColor="#0876FE"
                textColor="#fff"
                width="150px"
                onClick={() => {
                  if (data?.slug) {
                    router.push(`/${data.slug}`);
                  }
                }}
              />

              {/* whatsap button */}
              <a
                onClick={() => handleShowNumber("whatsapp")}
                href={`https://wa.me/${data?.mobile_number}`}
                target="_blank"
                rel="noopener noreferrer"
              >
                <svg
                  className="cursor-pointer"
                  width="35"
                  height="30"
                  viewBox="0 0 40 40"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect
                    x="0.5"
                    y="0.5"
                    width="39"
                    height="39"
                    rx="3.5"
                    fill="#EDFFE6"
                    stroke="#25D366"
                  />
                  <path
                    d="M24.8671 21.3935C24.6343 21.2681 23.4707 20.6993 23.2476 20.6222C23.0246 20.5451 22.8791 20.5065 22.7143 20.7476C22.5494 20.9886 22.1034 21.5092 21.9676 21.6634C21.8318 21.8177 21.6961 21.8466 21.4536 21.7309C20.7453 21.4499 20.0896 21.0523 19.5142 20.5547C18.9945 20.0809 18.5498 19.5316 18.1954 18.9255C18.0596 18.6941 18.1954 18.5688 18.302 18.4531C18.4087 18.3374 18.5348 18.1735 18.6608 18.0385C18.7588 17.9197 18.8373 17.7863 18.8936 17.6432C18.9275 17.5811 18.9453 17.5115 18.9453 17.4408C18.9453 17.3701 18.9275 17.3005 18.8936 17.2383C18.8354 17.113 18.3602 15.9561 18.1663 15.4837C17.9723 15.0113 17.7784 15.0885 17.6329 15.0788H17.1772C17.058 15.0827 16.9408 15.1103 16.8325 15.16C16.7243 15.2096 16.6271 15.2804 16.5468 15.368C16.2844 15.6166 16.076 15.9158 15.9342 16.2474C15.7925 16.579 15.7204 16.9359 15.7226 17.2962C15.8037 18.1819 16.1405 19.0256 16.6923 19.7256C17.6934 21.2448 19.0732 22.4803 20.6973 23.312C21.2597 23.553 21.667 23.6976 22.0452 23.8133C22.5295 23.9558 23.0398 23.9888 23.5386 23.9097C23.8672 23.8433 24.1784 23.7096 24.4522 23.5171C24.726 23.3245 24.9565 23.0774 25.1289 22.7914C25.2884 22.4413 25.3391 22.0519 25.2744 21.6731C25.2162 21.567 25.061 21.5092 24.8186 21.3838L24.8671 21.3935ZM27.2526 12.765C25.6288 11.1476 23.4688 10.1723 21.1753 10.0207C18.8817 9.86921 16.6109 10.5518 14.7861 11.9414C12.9612 13.3309 11.7068 15.3327 11.2564 17.5736C10.8061 19.8145 11.1905 22.1418 12.3382 24.1218L11 29L16.0135 27.6889C17.4056 28.4312 18.9624 28.8156 20.5421 28.8072C22.4136 28.804 24.2421 28.2498 25.7972 27.2146C27.3522 26.1795 28.564 24.7096 29.2797 22.9905C29.9955 21.2714 30.1831 19.3801 29.8188 17.5551C29.4546 15.7302 28.5549 14.0533 27.2332 12.7361L27.2526 12.765ZM20.5518 27.2261C19.1416 27.2252 17.7578 26.8455 16.5468 26.1271L16.2559 25.9632L13.2789 26.7344L14.074 23.8422L13.9092 23.5819C13.1129 22.3374 12.6922 20.8921 12.697 19.4171C12.6977 17.8693 13.1598 16.3565 14.0251 15.0697C14.8904 13.783 16.1199 12.7801 17.5583 12.1879C18.9967 11.5956 20.5795 11.4406 22.1065 11.7424C23.6335 12.0442 25.0362 12.7892 26.1374 13.8834C26.8757 14.6053 27.4611 15.4668 27.8591 16.4172C28.2572 17.3676 28.4598 18.3877 28.4551 19.4171C28.45 21.4926 27.619 23.4818 26.1437 24.9503C24.6684 26.4189 22.6686 27.2474 20.5809 27.255L20.5518 27.2261Z"
                    fill="#25D366"
                  />
                </svg>
              </a>
            </div>
          </div>

          {/* Right Side Views */}
        </div>

        <div className="flex min-[340px]:!justify-between max-w-[95%] gap-2  items-center md:hidden ">
          <CustomButton
            showToggle={true}
            defaultText="CALL NOW"
            toggledText={data?.mobile_number}
            icon={
              <svg
                width="17"
                height="17"
                viewBox="0 0 17 17"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M15.5541 12.9771C15.5541 13.232 15.4975 13.4939 15.3771 13.7488C15.2568 14.0037 15.101 14.2444 14.8957 14.4709C14.5488 14.8532 14.1665 15.1293 13.7346 15.3063C13.3098 15.4833 12.8497 15.5753 12.3541 15.5753C11.632 15.5753 10.8603 15.4054 10.0461 15.0585C9.23196 14.7116 8.4178 14.2444 7.61072 13.6568C6.79656 13.0621 6.02488 12.4037 5.28859 11.6744C4.55939 10.9382 3.90098 10.1665 3.31337 9.3594C2.73283 8.55232 2.26558 7.74523 1.92575 6.94523C1.58593 6.13815 1.41602 5.36647 1.41602 4.63018C1.41602 4.14877 1.50097 3.68859 1.67088 3.26381C1.8408 2.83195 2.10982 2.43549 2.48504 2.0815C2.93814 1.63549 3.43372 1.41602 3.95761 1.41602C4.15585 1.41602 4.35408 1.45849 4.53107 1.54345C4.71514 1.62841 4.87797 1.75584 5.0054 1.93991L6.64789 4.25496C6.77532 4.43195 6.86736 4.59478 6.93107 4.75054C6.99479 4.89921 7.03019 5.04788 7.03019 5.1824C7.03019 5.35231 6.98063 5.52222 6.88152 5.68505C6.78948 5.84788 6.65497 6.0178 6.48505 6.18771L5.947 6.747C5.86912 6.82488 5.83372 6.91691 5.83372 7.03019C5.83372 7.08683 5.84081 7.13638 5.85496 7.19302C5.8762 7.24966 5.89744 7.29213 5.9116 7.33461C6.03904 7.56824 6.2585 7.87267 6.57001 8.24081C6.88859 8.60895 7.22842 8.98417 7.59656 9.3594C7.97886 9.73462 8.34701 10.0815 8.72223 10.4001C9.09037 10.7116 9.3948 10.924 9.6355 11.0514C9.6709 11.0656 9.71338 11.0868 9.76294 11.1081C9.81958 11.1293 9.87621 11.1364 9.93993 11.1364C10.0603 11.1364 10.1523 11.0939 10.2302 11.016L10.7683 10.4851C10.9452 10.3081 11.1152 10.1736 11.278 10.0886C11.4408 9.98949 11.6037 9.93993 11.7806 9.93993C11.9152 9.93993 12.0567 9.96825 12.2125 10.032C12.3683 10.0957 12.5311 10.1877 12.7081 10.3081L15.0514 11.9718C15.2355 12.0992 15.363 12.2479 15.4408 12.4249C15.5116 12.6019 15.5541 12.7789 15.5541 12.9771Z"
                  fill="#FF6E04"
                />
              </svg>
            }
            toggledIcon={
              <svg
                width="17"
                height="17"
                viewBox="0 0 17 17"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M15.5541 12.9771C15.5541 13.232 15.4975 13.4939 15.3771 13.7488C15.2568 14.0037 15.101 14.2444 14.8957 14.4709C14.5488 14.8532 14.1665 15.1293 13.7346 15.3063C13.3098 15.4833 12.8497 15.5753 12.3541 15.5753C11.632 15.5753 10.8603 15.4054 10.0461 15.0585C9.23196 14.7116 8.4178 14.2444 7.61072 13.6568C6.79656 13.0621 6.02488 12.4037 5.28859 11.6744C4.55939 10.9382 3.90098 10.1665 3.31337 9.3594C2.73283 8.55232 2.26558 7.74523 1.92575 6.94523C1.58593 6.13815 1.41602 5.36647 1.41602 4.63018C1.41602 4.14877 1.50097 3.68859 1.67088 3.26381C1.8408 2.83195 2.10982 2.43549 2.48504 2.0815C2.93814 1.63549 3.43372 1.41602 3.95761 1.41602C4.15585 1.41602 4.35408 1.45849 4.53107 1.54345C4.71514 1.62841 4.87797 1.75584 5.0054 1.93991L6.64789 4.25496C6.77532 4.43195 6.86736 4.59478 6.93107 4.75054C6.99479 4.89921 7.03019 5.04788 7.03019 5.1824C7.03019 5.35231 6.98063 5.52222 6.88152 5.68505C6.78948 5.84788 6.65497 6.0178 6.48505 6.18771L5.947 6.747C5.86912 6.82488 5.83372 6.91691 5.83372 7.03019C5.83372 7.08683 5.84081 7.13638 5.85496 7.19302C5.8762 7.24966 5.89744 7.29213 5.9116 7.33461C6.03904 7.56824 6.2585 7.87267 6.57001 8.24081C6.88859 8.60895 7.22842 8.98417 7.59656 9.3594C7.97886 9.73462 8.34701 10.0815 8.72223 10.4001C9.09037 10.7116 9.3948 10.924 9.6355 11.0514C9.6709 11.0656 9.71338 11.0868 9.76294 11.1081C9.81958 11.1293 9.87621 11.1364 9.93993 11.1364C10.0603 11.1364 10.1523 11.0939 10.2302 11.016L10.7683 10.4851C10.9452 10.3081 11.1152 10.1736 11.278 10.0886C11.4408 9.98949 11.6037 9.93993 11.7806 9.93993C11.9152 9.93993 12.0567 9.96825 12.2125 10.032C12.3683 10.0957 12.5311 10.1877 12.7081 10.3081L15.0514 11.9718C15.2355 12.0992 15.363 12.2479 15.4408 12.4249C15.5116 12.6019 15.5541 12.7789 15.5541 12.9771Z"
                  fill="#fff"
                />
              </svg>
            }
            bgColor=""
            borderColor="#FF6E04"
            toggledBgColor="#FF6E04"
            textColor="#FF6E04"
            toggledTextColor="#fff"
            padding="14px 25px "
            height="35px"
            width="34%"
            fontWeight="800"
            onClick={() => {
              if (data?.mobile_number) {
                window.location.href = `tel:${data.mobile_number}`;
              }
            }}
          />

          {/* enquire now */}

          <CustomButton
            defaultText="ENQUIRE NOW"
            icon={
              <svg
                width="18"
                height="19"
                viewBox="0 0 18 19"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M6.375 14.946H6C3 14.946 1.5 14.196 1.5 10.446V6.69604C1.5 3.69604 3 2.19604 6 2.19604H12C15 2.19604 16.5 3.69604 16.5 6.69604V10.446C16.5 13.446 15 14.946 12 14.946H11.625C11.3925 14.946 11.1675 15.0585 11.025 15.246L9.9 16.746C9.405 17.406 8.595 17.406 8.1 16.746L6.975 15.246C6.855 15.081 6.5775 14.946 6.375 14.946Z"
                  stroke="black"
                  stroke-width="1.5"
                  stroke-miterlimit="10"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M5.25 6.69604H12.75"
                  stroke="black"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M5.25 10.446H9.75"
                  stroke="black"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            }
            borderColor="#000"
            bgColor=""
            textColor="#000"
            height="35px"
            width="38%"
            fontWeight="700"
            onClick={() => {
              if (data?.slug) {
                router.push(`/${data.slug}`);
              }
            }}
          />

          {/* whatsap button */}
          <a
            href={`https://wa.me/${data?.mobile_number}`}
            target="_blank"
            rel="noopener noreferrer"
          >
            <svg
              className="cursor-pointer"
              width="35"
              height="30"
              viewBox="0 0 40 40"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect
                x="0.5"
                y="0.5"
                width="39"
                height="39"
                rx="3.5"
                fill="#EDFFE6"
                stroke="#25D366"
              />
              <path
                d="M24.8671 21.3935C24.6343 21.2681 23.4707 20.6993 23.2476 20.6222C23.0246 20.5451 22.8791 20.5065 22.7143 20.7476C22.5494 20.9886 22.1034 21.5092 21.9676 21.6634C21.8318 21.8177 21.6961 21.8466 21.4536 21.7309C20.7453 21.4499 20.0896 21.0523 19.5142 20.5547C18.9945 20.0809 18.5498 19.5316 18.1954 18.9255C18.0596 18.6941 18.1954 18.5688 18.302 18.4531C18.4087 18.3374 18.5348 18.1735 18.6608 18.0385C18.7588 17.9197 18.8373 17.7863 18.8936 17.6432C18.9275 17.5811 18.9453 17.5115 18.9453 17.4408C18.9453 17.3701 18.9275 17.3005 18.8936 17.2383C18.8354 17.113 18.3602 15.9561 18.1663 15.4837C17.9723 15.0113 17.7784 15.0885 17.6329 15.0788H17.1772C17.058 15.0827 16.9408 15.1103 16.8325 15.16C16.7243 15.2096 16.6271 15.2804 16.5468 15.368C16.2844 15.6166 16.076 15.9158 15.9342 16.2474C15.7925 16.579 15.7204 16.9359 15.7226 17.2962C15.8037 18.1819 16.1405 19.0256 16.6923 19.7256C17.6934 21.2448 19.0732 22.4803 20.6973 23.312C21.2597 23.553 21.667 23.6976 22.0452 23.8133C22.5295 23.9558 23.0398 23.9888 23.5386 23.9097C23.8672 23.8433 24.1784 23.7096 24.4522 23.5171C24.726 23.3245 24.9565 23.0774 25.1289 22.7914C25.2884 22.4413 25.3391 22.0519 25.2744 21.6731C25.2162 21.567 25.061 21.5092 24.8186 21.3838L24.8671 21.3935ZM27.2526 12.765C25.6288 11.1476 23.4688 10.1723 21.1753 10.0207C18.8817 9.86921 16.6109 10.5518 14.7861 11.9414C12.9612 13.3309 11.7068 15.3327 11.2564 17.5736C10.8061 19.8145 11.1905 22.1418 12.3382 24.1218L11 29L16.0135 27.6889C17.4056 28.4312 18.9624 28.8156 20.5421 28.8072C22.4136 28.804 24.2421 28.2498 25.7972 27.2146C27.3522 26.1795 28.564 24.7096 29.2797 22.9905C29.9955 21.2714 30.1831 19.3801 29.8188 17.5551C29.4546 15.7302 28.5549 14.0533 27.2332 12.7361L27.2526 12.765ZM20.5518 27.2261C19.1416 27.2252 17.7578 26.8455 16.5468 26.1271L16.2559 25.9632L13.2789 26.7344L14.074 23.8422L13.9092 23.5819C13.1129 22.3374 12.6922 20.8921 12.697 19.4171C12.6977 17.8693 13.1598 16.3565 14.0251 15.0697C14.8904 13.783 16.1199 12.7801 17.5583 12.1879C18.9967 11.5956 20.5795 11.4406 22.1065 11.7424C23.6335 12.0442 25.0362 12.7892 26.1374 13.8834C26.8757 14.6053 27.4611 15.4668 27.8591 16.4172C28.2572 17.3676 28.4598 18.3877 28.4551 19.4171C28.45 21.4926 27.619 23.4818 26.1437 24.9503C24.6684 26.4189 22.6686 27.2474 20.5809 27.255L20.5518 27.2261Z"
                fill="#25D366"
              />
            </svg>
          </a>
        </div>
      </div>
    </div>
  );
};

export default BusinessCard;
